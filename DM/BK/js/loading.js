(function(e,t,n){function r(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]===n&&(e[i]=r[i])}return e}function s(e,t){for(var n in t)e.style[o(e,n)||n]=t[n];return e}function o(e,t){var r=e.style,i,s;if(r[t]!==n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(s=0;s<l.length;s++){i=l[s]+t;if(r[i]!==n)return i}}function u(e,t,n,r){var i=["opacity",t,~~(e*100),n,r].join("-"),s=.01+n/r*100,o=Math.max(1-(1-e)/t*(100-s),e),u=h.substring(0,h.indexOf("Animation")).toLowerCase(),a=u&&"-"+u+"-"||"";c[i]||(p.insertRule("@"+a+"keyframes "+i+"{"+"0%{opacity:"+o+"}"+s+"%{opacity:"+e+"}"+(s+.01)+"%{opacity:1}"+(s+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+o+"}"+"}",0),c[i]=1);return i}function a(e,t,n){n&&!n.parentNode&&a(e,n),e.insertBefore(t,n||null);return e}function f(e,n){var r=t.createElement(e||"div"),i;for(i in n)r[i]=n[i];return r}var l=["webkit","Moz","ms","O"],c={},h,p=function(){var e=f("style");a(t.getElementsByTagName("head")[0],e);return e.sheet||e.styleSheet}(),d=function g(e){if(!this.spin)return new g(e);this.opts=i(e||{},g.defaults,v)},v=d.defaults={lines:12,length:7,width:5,radius:10,color:"#000",speed:1,trail:100,opacity:.25,fps:20},m=d.prototype={spin:function(e){this.stop();var t=this,n=t.el=s(f(),{position:"relative"}),i,o;e&&(o=r(a(e,n,e.firstChild)),i=r(n),s(n,{left:(e.offsetWidth>>1)-i.x+o.x+"px",top:(e.offsetHeight>>1)-i.y+o.y+"px"})),n.setAttribute("aria-role","progressbar"),t.lines(n,t.opts);if(!h){var u=t.opts,l=0,c=u.fps,p=c/u.speed,d=(1-u.opacity)/(p*u.trail/100),v=p/u.lines;(function m(){l++;for(var e=u.lines;e;e--){var r=Math.max(1-(l+e*v)%p*d,u.opacity);t.opacity(n,u.lines-e,r,u)}t.timeout=t.el&&setTimeout(m,~~(1e3/c))})()}return t},stop:function(){var e=this.el;e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n);return this}};m.lines=function(e,t){function n(e,n){return s(f(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*r)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.width>>1)+"px"})}var r=0,i;for(;r<t.lines;r++)i=s(f(),{position:"absolute",top:1+~(t.width/2)+"px",transform:"translate3d(0,0,0)",opacity:t.opacity,animation:h&&u(t.opacity,t.trail,r,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&a(i,s(n("#000","0 0 4px #000"),{top:"2px"})),a(e,a(i,n(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},m.opacity=function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)},function(){var e=s(f("group"),{behavior:"url(#default#VML)"}),t;if(!o(e,"transform")&&e.adj){for(t=4;t--;)p.addRule(["group","roundrect","fill","stroke"][t],"behavior:url(#default#VML)");m.lines=function(e,t){function n(e,n,o){a(u,a(s(r(),{rotation:360/t.lines*e+"deg",left:~~n}),a(s(f("roundrect",{arcsize:1}),{width:i,height:t.width,left:t.radius,top:-t.width>>1,filter:o}),f("fill",{color:t.color,opacity:t.opacity}),f("stroke",{opacity:0}))))}function r(){return s(f("group",{coordsize:o+" "+o,coordorigin:-i+" "+ -i}),{width:o,height:o})}var i=t.length+t.width,o=2*i,u=r(),l=~(t.length+t.radius+t.width)+"px",c;if(t.shadow)for(c=1;c<=t.lines;c++)n(c,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(c=1;c<=t.lines;c++)n(c);return a(s(e,{margin:l+" 0 0 "+l,zoom:1}),u)},m.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}else h=o(e,"animation")}(),e.Spinner=d})(window,document)